<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Survey</title>
    <!-- Linking jquery -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
</head>
<body>
    <h1>Survey Questions</h1>
    <hr>
    <h3>About You</h3>
    <form>
        <!-- these are for Name and Photo -->
        <h3>What is your name: </h3>
        <input type="text" id="name">
        <h3>Please provide a link to a photo:</h3>
        <input type="text" id="photo">
        <p>Please answer these questions. (1 is strongly disagree. 5 is strongly agree)</p>
        <!--These are for the questions-->

        <fieldset id="question1">
                <h3>Question 1</h3> 

                <h4>Insert Here:</h4>
                <input type="radio" value="1" name="question1" >1<input type="radio" value="2" name="question1">2<input type="radio" value="3" name="question1">3<input type="radio" value="4" name="question1">4<input type="radio" value="5" name="question1" checked>5
        </fieldset>
        <fieldset id="question2">
                <h3>Question 2</h3> 
                <h4>Insert Here:</h4>
                <input type="radio" value="1" name="question2" >1<input type="radio" value="2" name="question2">2<input type="radio" value="3" name="question2">3<input type="radio" value="4" name="question2">4<input type="radio" value="5" name="question2" checked>5
        </fieldset>
        <fieldset id="question3">
                <h3>Question 3</h3> 
                <h4>Insert Here:</h4>
                <input type="radio" value="1" name="question3" >1<input type="radio" value="2" name="question3">2<input type="radio" value="3" name="question3">3<input type="radio" value="4" name="question3">4<input type="radio" value="5" name="question3" checked>5
        </fieldset>
        <fieldset id="question4">
                <h3>Question 4</h3> 

                <h4>Insert Here:</h4>
                <input type="radio" value="1" name="question4" >1<input type="radio" value="2" name="question4">2<input type="radio" value="3" name="question4">3<input type="radio" value="4" name="question4">4<input type="radio" value="5" name="question4" checked>5
        </fieldset>
        <fieldset id="question5">
                <h3>Question 5</h3> 
                <h4>Insert Here:</h4>
                <input type="radio" value="1" name="question5" >1<input type="radio" value="2" name="question5">2<input type="radio" value="3" name="question5">3<input type="radio" value="4" name="question5">4<input type="radio" value="5" name="question5" checked>5
        </fieldset>
        <fieldset id="question6">
                <h3>Question 6</h3> 
                <h4>Insert Here:</h4>
                <input type="radio" value="1" name="question6" >1<input type="radio" value="2" name="question6">2<input type="radio" value="3" name="question6">3<input type="radio" value="4" name="question6">4<input type="radio" value="5" name="question6" checked>5
        </fieldset>
        <fieldset id="question7">
                <h3>Question 7</h3> 

                <h4>Insert Here:</h4>
                <input type="radio" value="1" name="question7" >1<input type="radio" value="2" name="question7">2<input type="radio" value="3" name="question7">3<input type="radio" value="4" name="question7">4<input type="radio" value="5" name="question7" checked>5
        </fieldset>
        <fieldset id="question8">
                <h3>Question 8</h3> 
                <h4>Insert Here:</h4>
                <input type="radio" value="1" name="question8" >1<input type="radio" value="2" name="question8">2<input type="radio" value="3" name="question8">3<input type="radio" value="4" name="question8">4<input type="radio" value="5" name="question8" checked>5
        </fieldset>
        <fieldset id="question9">
                <h3>Question 9</h3> 
                <h4>Insert Here:</h4>
                <input type="radio" value="1" name="question9" >1<input type="radio" value="2" name="question9">2<input type="radio" value="3" name="question9">3<input type="radio" value="4" name="question9">4<input type="radio" value="5" name="question9" checked>5
        </fieldset>
        <fieldset id="question10">
                <h3>Question 10</h3> 
                <h4>Insert Here:</h4>
                <input type="radio" value="1" name="question10" >1<input type="radio" value="2" name="question10">2<input type="radio" value="3" name="question10">3<input type="radio" value="4" name="question10">4<input type="radio" value="5" name="question10" checked>5
        </fieldset>

       
        <button type="submit" id="submit">submit</button>
    </form>
    <script type="text/javascript">
        $("#submit").on("click", function(event){
            //stops the refresh so the rest of the js will run
            event.preventDefault();
            
            var newFriend = {
                name: $("#name").val().trim(),
                photo: $("#photo").val().trim(),
                scores: [
                    $("input[name='question1']:checked").val(),
                    $("input[name='question2']:checked").val(),
                    $("input[name='question3']:checked").val(),
                    $("input[name='question4']:checked").val(),
                    $("input[name='question5']:checked").val(),
                    $("input[name='question6']:checked").val(),
                    $("input[name='question7']:checked").val(),
                    $("input[name='question8']:checked").val(),
                    $("input[name='question9']:checked").val(),
                    $("input[name='question10']:checked").val(),
                ]
            }

            reset();
            function reset(){
            //resets the name and photo fields
            $("#name").val("");
            $("#photo").val("");
            //this resets the question radios to 5 
            $("input[name='question1']:checked").prop("checked", false);
            $("input[name='question1']").val("1").prop("checked", true);
            $("input[name='question2']:checked").prop("checked", false);
            $("input[name='question2']").val("1").prop("checked", true);
            $("input[name='question3']:checked").prop("checked", false);
            $("input[name='question3']").val("1").prop("checked", true);
            $("input[name='question4']:checked").prop("checked", false);
            $("input[name='question4']").val("1").prop("checked", true);
            $("input[name='question5']:checked").prop("checked", false);
            $("input[name='question5']").val("1").prop("checked", true);
            $("input[name='question6']:checked").prop("checked", false);
            $("input[name='question6']").val("1").prop("checked", true);
            $("input[name='question7']:checked").prop("checked", false);
            $("input[name='question7']").val("1").prop("checked", true);
            $("input[name='question8']:checked").prop("checked", false);
            $("input[name='question8']").val("1").prop("checked", true);
            $("input[name='question9']:checked").prop("checked", false);
            $("input[name='question9']").val("1").prop("checked", true);
            $("input[name='question10']:checked").prop("checked", false);
            $("input[name='question10']").val("1").prop("checked", true);
            }

            $.post("/api/friends", newFriend, function(data){
                if(data){
                    alert("You've been added!");
                    console.log(data);
                }
            })
        })
    </script>
</body>
</html>